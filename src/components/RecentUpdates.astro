---
import { updates } from '../data/updates';

const sorted = [...updates].sort(
  (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime(),
);

const categoryLabel: Record<string, string> = {
  vulkan: 'Vulkan',
  cuda: 'CUDA',
};
---

<section class="recent-updates">
  <h2>최근 업데이트</h2>
  <ul class="update-list">
    {sorted.map((item) => (
      <li class="update-item">
        <span class={`category-badge badge-${item.category}`}>
          {categoryLabel[item.category]}
        </span>
        <a href={item.href} class="update-link">{item.title}</a>
        <time datetime={item.date}>
          {item.date.slice(5).replace('-', '.')}
        </time>
      </li>
    ))}
  </ul>
</section>
